<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>ajax封装</title>
</head>
<body>
	


	<script type="text/javascript">
	obtn.onclick=function(){
		ajax({
			type:'post',
			url:'',
			success:function(data){
                alert(data);
			},
			error:function(){
				alert('出错了')
			}
		})
	}
	function ajax(json){
		var type=json.type;
		var url=json.url;
		var success=json.success;
		var error=json.error;
         
         //创建ajax对象
         var oajax;
		if (window.XMLHttpRequest) {
  		  oajax=new XMLHttpRequest();
		}else{
			oajax=new ActiveXObject('Microsoft.XMLHTTP');
		}
		//链接服务器
		oajax.open(type,url,true);

		//发送请求
		oajax.send();
		oajax.onreadystatechange=function(){
			if (oajax.readyState==4) {
				if (oajax.status==200) {
					var data=oajax.responseText;
					success(data);
				}else{
					error();
				}
			}
		}
	}
	</script>
</body>
</html>