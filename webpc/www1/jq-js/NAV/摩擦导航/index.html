<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>摩擦运动动画跟随的导航条</title>
		<style type="text/css">
			*{margin: 0 ;padding: 0;list-style: none;text-decoration: none;}
			.nav{width: 100%;height: 40px;background: #f6f6f6;margin-top: 100px;}
		.nav_con{position: relative;width: 1000px;height: 40px;margin: 0 auto;}
		.nav_con li{float: left;}
		.nav_con li a{display: block;text-align: center;line-height: 40px;color: #333;padding: 0 30px;}
		.nav_con li a:hover ,.nav_con li a.on{color: #34b558;}
		.nav_con .line{position: absolute;width: 100px;height: 3px;background:#34b558 ;top:40px;left: 0;}
		</style>
		<script src="../js/jquery-2.1.0.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			$(function(){
				var index =window.location.href.split('/')/length-1;
				var href=window.location.href.split('/')[index];
				$(".nav_con li a[href^='"+href+"']").addClass("on");
				
				var li_width=$(".nav_con li a .on").outerWidth();//outerWidth()获取标签宽度
				var li_left=$(".nav_con li a.on").position().left//.position().left向左移动
				$(".nav_con .line").css({width:li_width,left:li_left})
				
				$(".nav_con li").hover(function(){
					var li_width=$(this).outerWidth();
					var li_left=$(this).position().left;
					$(".nav_con .line").stop().animate({width:li_width,left:li_left})
				},function(){
					$(".nav_con .line").stop().animate({width:li_width,left:li_left})
				})
			})
		</script>
	</head>
	<body>
	 <div class="nav">
	 	<div class="nav_con">
	 	<ul class="list">
	 		<li><a href="#" class="on">首页1</a></li>
	 		<li><a href="#">首页2</a></li>
	 		<li><a href="#">首页3</a></li>
	 		<li><a href="#">首页4</a></li>
	 		<li><a href="#">首页5</a></li>
	 		<li><a href="#">首页6</a></li>
	 	</ul>
	 	<div class="line"></div>
	 </div>
	 </div>
	</body>
</html>
