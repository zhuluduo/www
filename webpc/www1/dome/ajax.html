<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>ajax</title>
	</head>
	<body>
		<form action=""> 
			输入姓名: <input type="text" id="txt1" onkeyup="showHint(this.value)" />
		</form>
			<p>提示信息: <span id="txtHint"></span></p> 

		<!--<script type="text/javascript">
//			var variable=new XMLHttpRequest();
////			老版本
//			var lables=new ActiveXObject("Microsoft.XMLHTTP");
			var xmlhttp;
			if(window.XMLHttpRequest){
				xmlhttp=new XMLHttpRequest();
			}else{
				xmlhttp=new ActiveXObject("Microsoft.XMLHTTP")
			}
		</script>-->
		<script type="text/javascript">
			function showHint(val){
				var xmlhttp;
				if(val.length==0){
					document.getElementById('txtHint').innerHTML='';
					return;
				}
				if(window.XMLHttpRequest){
					 // IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码
					 xmlhttp=new XMLHttpRequest();
				}else{
					xmlhttp=new ActiveXObject("Microsoft.XMLHttp");
				}
				xmlhttp.onreadystatechangs=function(){
					if(xmlhttp.readyState==4&&xmlhttp.status==200){
						document.getElementById('txtHint').innerHTML=xmlhttp.responseText;
					}
				}
				xmlhttp.open("GET","gethint.php?q="+val,true);
				xmlhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
				xmlhttp.send()
			}
		</script>
	</body>
</html>
