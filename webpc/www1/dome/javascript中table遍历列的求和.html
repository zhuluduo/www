<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>javascript中table遍历列的求和</title>
	<style type="text/css">

    .yangshi
        {
        background:url(images/girl.jpg)no-repeat;
        height:348px;
        background-position: 0px 150px;
        }

    .test
        {
        text-align: right;
        width:80px;
        }
</style>
<script type="text/javascript">

// 此方法是alert出文本框中输入的值
function getprice(rowNum)
{

    var id = 'price0'+rowNum;
    var price = document.getElementById(id);
    alert(price.value);
}

//此方法是计算出被选中的价格的总价(自己注意传参和不需要传参的理解)
function sumPrice(tableid)
{

     var sum = 0;
     var tableObj = document.getElementById(tableid);

     for (var i = 0; i < tableObj.rows.length; i++){
                //遍历Table的所有Row
        var checkBox = document.getElementById('checkbox0'+i);
        //判断
            if(checkBox != null && checkBox.checked){
                var id = 'price0'+i;
                var price = document.getElementById(id);
                //alert(price.value);
                sum = parseInt(sum) + parseInt(price.value);

            }
    }
    document.getElementById("allPrice").value = parseInt(sum);
     //alert(sum);
}

</script>
</head>
<body>
	   <h1>购物价格表</h1>
    <form action="#" method = "post">
    <table border="1" id="shoptable">
        <thead style="background: #0FF">
        <tr>
            <th>序号</th>
            <th>选择</th>
            <th>图片</th>
            <th>简介</th>
            <th>价格</th>
            <td>查看信息</td>
            <th>查看</th>
        </tr>
        </thead>
        <tbody style=" background: #9CC">
        <tr>
            <td align="center">1</td>
            <td align="center"><input id="checkbox00" type="checkbox" name="checkbox1" value="checkbox1" /></td>
            <td><img src="images/black.jpg" style="width:50px;height:50px" /></td>
            <td>这个图片是黑色的你没看错！</td>
            <td align="right"><input type="text" id="price00" class="test" /></td>
            <td><a href="black.html">查看信息</a></td>
            <td><input type="button" value="查看" onclick="getprice('0')" id="btn00" /></td>
        </tr>
        <tr>
            <td align="center">2</td>
            <td align="center"><input id="checkbox01" type="checkbox" name="checkbox2" value="checkbox2" /></td>
            <td><img src="images/red.jpg" style="width:50px;height:50px" /></td>
            <td>这个图片是红色的你没看错！</td>
            <td align="right"><input type="text" class="test" maxlength="3" id="price01" /></td>
            <td><a href="black.html">查看信息</a></td>
            <td><input id="btn01" type="button" value="查看" onclick="getprice('1')" /></td>
        </tr>
        <tr>
            <td align="center">3</td>
            <td align="center"><input id="checkbox02" type="checkbox" name="checkbox3" value="checkbox3" /></td>
            <td><img src="images/blue.jpg" style="width:50px;height:50px" /></td>
            <td>这个图片是蓝色的你没看错！</td>
            <td align="right"><input type="text" class="test" maxlength="3" id="price02" /></td>
            <td><a href="black.html">查看信息</a></td>
            <td><input id="btn02" type="button" value="查看" onclick="getprice('2')" /></td>

        </tr>
        <tr>
            <td align="center">4</td>
            <td align="center"><input id="checkbox03" type="checkbox" name="checkbox4" value="checkbox4" /></td>
            <td><img src="images/green.jpg" style="width:50px;height:50px" /></td>
            <td>这个图片是绿色的你没看错！</td>
            <td align="right"><input type="text" class="test" maxlength="3" id="price03"  /></td>
            <td><a href="black.html">查看信息</a></td>
            <td><input id="btn03" type="button" value="查看" onclick="getprice('3')" /></td>
        </tr>
        </tbody>
        <tfoot style=" background: red">
            <td align="center">5</td>
            <td align="center">无</td>
            <td><img src="images/girl.jpg" style="width:50px;height:50px" /></td>
            <td>以上是所有的商品！</td>
            <td>总价:<input type="text" class="test" id="allPrice" onblur="sumPrice('shoptable')" /></td>
            <td><a href="black.html">查看信息</a></td>
            <td><input id="btn04" type="button" value="查看" /></td>
        </tfoot>
    </table>
            <input type="submit" value="提交" onclick="sumPrice('shoptable')"/>
            <input type="reset"  value="重置" />
</form >
<div class="yangshi">
</div>
</body>
</html>